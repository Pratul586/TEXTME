{"ast":null,"code":"import{Button}from\"@chakra-ui/button\";import{FormControl,FormLabel}from\"@chakra-ui/form-control\";import{Input,InputGroup,InputRightElement}from\"@chakra-ui/input\";import{VStack}from\"@chakra-ui/layout\";import{useState}from\"react\";import axios from\"axios\";import{useToast}from\"@chakra-ui/react\";import{useHistory}from\"react-router-dom\";// import { ChatState } from \"../../Context/ChatProvider\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[show,setShow]=useState(false);const handleClick=()=>setShow(!show);const toast=useToast();const[email,setEmail]=useState();const[password,setPassword]=useState();const[loading,setLoading]=useState(false);const history=useHistory();// const { setUser } = ChatState();\nconst submitHandler=async()=>{setLoading(true);if(!email||!password){toast({title:\"Please Fill all the Feilds\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);return;}try{const config={headers:{\"Content-type\":\"application/json\"}};const{data}=await axios.post(\"/api/user/login\",{email,password},config);toast({title:\"Login Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});// setUser(data);\nlocalStorage.setItem(\"userInfo\",JSON.stringify(data));setLoading(false);history.push(\"/chats\");}catch(error){toast({title:\"Error Occured!\",description:error.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);}};return/*#__PURE__*/_jsxs(VStack,{spacing:\"10px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Input,{value:email,type:\"email\",placeholder:\"Enter Your Email Address\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{value:password,onChange:e=>setPassword(e.target.value),type:show?\"text\":\"password\",placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:()=>{setEmail(\"guest@example.com\");setPassword(\"123456\");},children:\"Get Guest User Credentials\"})]});};export default Login;","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","useState","axios","useToast","useHistory","jsx","_jsx","jsxs","_jsxs","Login","show","setShow","handleClick","toast","email","setEmail","password","setPassword","loading","setLoading","history","submitHandler","title","status","duration","isClosable","position","config","headers","data","post","localStorage","setItem","JSON","stringify","push","error","description","response","message","spacing","children","id","isRequired","value","type","placeholder","onChange","e","target","size","width","h","onClick","colorScheme","style","marginTop","isLoading","variant"],"sources":["E:/React Project/chat-app/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import { Button } from \"@chakra-ui/button\";\r\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\r\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\r\nimport { VStack } from \"@chakra-ui/layout\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useToast } from \"@chakra-ui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import { ChatState } from \"../../Context/ChatProvider\";\r\n\r\nconst Login = () => {\r\n  const [show, setShow] = useState(false);\r\n  const handleClick = () => setShow(!show);\r\n  const toast = useToast();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const history = useHistory();\r\n  // const { setUser } = ChatState();\r\n\r\n  const submitHandler = async () => {\r\n    setLoading(true);\r\n    if (!email || !password) {\r\n      toast({\r\n        title: \"Please Fill all the Feilds\",\r\n        status: \"warning\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"/api/user/login\",\r\n        { email, password },\r\n        config\r\n      );\r\n\r\n      toast({\r\n        title: \"Login Successful\",\r\n        status: \"success\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      // setUser(data);\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n      setLoading(false);\r\n      history.push(\"/chats\");\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error Occured!\",\r\n        description: error.response.data.message,\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n        position: \"bottom\",\r\n      });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VStack spacing=\"10px\">\r\n      <FormControl id=\"email\" isRequired>\r\n        <FormLabel>Email Address</FormLabel>\r\n        <Input\r\n          value={email}\r\n          type=\"email\"\r\n          placeholder=\"Enter Your Email Address\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </FormControl>\r\n      <FormControl id=\"password\" isRequired>\r\n        <FormLabel>Password</FormLabel>\r\n        <InputGroup size=\"md\">\r\n          <Input\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type={show ? \"text\" : \"password\"}\r\n            placeholder=\"Enter password\"\r\n          />\r\n          <InputRightElement width=\"4.5rem\">\r\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\r\n              {show ? \"Hide\" : \"Show\"}\r\n            </Button>\r\n          </InputRightElement>\r\n        </InputGroup>\r\n      </FormControl>\r\n      <Button\r\n        colorScheme=\"blue\"\r\n        width=\"100%\"\r\n        style={{ marginTop: 15 }}\r\n        onClick={submitHandler}\r\n        isLoading={loading}\r\n      >\r\n        Login\r\n      </Button>\r\n      <Button\r\n        variant=\"solid\"\r\n        colorScheme=\"red\"\r\n        width=\"100%\"\r\n        onClick={() => {\r\n          setEmail(\"guest@example.com\");\r\n          setPassword(\"123456\");\r\n        }}\r\n      >\r\n        Get Guest User Credentials\r\n      </Button>\r\n    </VStack>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}